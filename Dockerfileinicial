#FROM maven as builder
FROM cimg/openjdk:17.0.9 as builder
COPY . /app 
RUN cd  /app && mvn test && mvn clean package 
# RUN cd  /app && ./mvnw spring-boot:build
FROM openjdk:17-alpine
EXPOSE 8080
COPY --from=builder /app/target/spring-boot-docker.jar spring-boot-docker.jar
ENTRYPOINT ["java", "-jar", "/spring-boot-docker.jar"]